<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
</head>
<body>
<input type="button" name="" value="userlist" onclick="show()">
<table id="d1"></table>
<script type="text/javascript">
	function show(){
		//1.创建异步对象
		var xhr=new XMLHttpRequest();
		//2.绑定监听
		xhr.onreadystatechange=function(){
			if(xhr.readyState==4&&xhr.status==200){
				var result=xhr.responseText;
				//把json串转换成一个js数组
				var arr=JSON.parse(result);
				console.log(arr);
				//d1.innerHTML=arr[0].uname;
				//得到所有用户的用户名和email
				for(var i=0;i<arr.length;i++){
					//console.log(arr[i].uname);
					d1.innerHTML+="<tr><td>用户名</td><td>密码</td><td>邮箱</td><td>电话</td></tr><tr><td>"+arr[i].uname+"</td><td>"+arr[i].upwd+"</td><td>"+arr[i].email+"</td><td>"+arr[i].phone+"</td><tr>"
				}
			}
		}
		//3.打开链接，创建请求
		xhr.open("get","/demo/userlist",true);
		//4.发送请求
		xhr.send(null);
	 }
</script>
</body>
</html>